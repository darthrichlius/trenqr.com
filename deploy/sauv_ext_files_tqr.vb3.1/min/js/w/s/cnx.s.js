function TQCNX(){var gt=this;var _xhr_cnx;var _f_Gdf=function(){var df={"rgx_bdate":/^(?:(?:(?:0?[13578]|1[02])(\/|-|\.)31)\1|(?:(?:0?[1,3-9]|1[0-2])(\/|-|\.)(?:29|30)\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:0?2(\/|-|\.)29\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:(?:0?[1-9])|(?:1[0-2]))(\/|-|\.)(?:0?[1-9]|1\d|2[0-8])\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,"bdate_min":12,"rgx_gdr":/^[m|f]{1}$/i,"rgx_psd":/^(?=.*[a-z])[\w\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00c6\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00e6\u1eaf\u1ea1\u1eb6\u1eb7\u1eb0\u1eb1\u1ea2\u1ea3\u00de\u00df\u00fe\u00c7\u00e7\u0110\u0111\u0189\u0256\u00d0\u00f0\u00c8\u00c9\u00ca\u00cb\u00e8\u00e9\u00ea\u00eb\u1ec1\u1ec7\u0118\u0119\u00cc\u00cd\u00ce\u00cf\u00ec\u00ed\u00ee\u00ef\u0142\u00d2\u00d3\u00d4\u00d5\u00d6\u00d8\u0398\u00f2\u00f3\u00f4\u00f5\u00f6\u01a1\u1edf\u00f8\u00d1\u00f1\u2c63\u1d7d\u00d9\u00da\u00db\u00dc\u00f9\u00fa\u00fb\u00fc\u1ef1\u00ff\u00dd\u00fd\u0160\u017d\u017e\u017c]{2,20}$/i,
"rgx_eml":/^[\w.+-]+@(?:[\w\d-]+\.)+[a-z]{2,6}$/i,"rgx_pwd":/^(?=(.*\d))(?=.*[a-z])(?=.*[\u00b2&<>!.?+*_~\u00b5\u00a3^\u00a8\u00b0\(\)\[\]\-@#$%:;=''/\\\u00a4]).{6,32}$/i};return df};var _f_TryConx=function(){try{if($(".jb-cnx-submit").data("il")===1|!KgbLib_CheckNullity(_xhr_cnx))return;$(".jb-cnx-submit").data("il",1);var ls=$(".jb-cnx-login");var lv=$(".jb-cnx-login").val();var ps=$(".jb-cnx-pass");var pv=$(".jb-cnx-pass").val();if(KgbLib_CheckNullity(lv)&&KgbLib_CheckNullity(pv))return;if(KgbLib_CheckNullity(lv)){_f_ShwFldErr(ls);
_f_ShwHdrErr(Kxlib_getDolphinsValue("cnx_err_one_is_void"));_f_UlkTrgBtn();return}else if(KgbLib_CheckNullity(pv)){_f_ShwFldErr(ps);_f_ShwHdrErr(Kxlib_getDolphinsValue("cnx_err_one_is_void"));_f_UlkTrgBtn();return}else{_f_HidFldErr(ls);_f_HidFldErr(ps);_f_HidHdrErr()}lv=lv.trim();_f_ShwSpinner();var liv=_f_IsEmailLike(lv)?_f_IsValidEmail(lv):_f_IsValidPsd(lv);if(!liv){_f_HidSpinner();_f_ShwFldErr(ls);_f_ShwFldErr(ps);_f_ShwHdrErr(Kxlib_getDolphinsValue("cnx_err_failed"));_f_UlkTrgBtn();return}if(!_f_IsValidPwd(pv)){_f_HidSpinner();
_f_ShwFldErr(ls);_f_ShwFldErr(ps);_f_ShwHdrErr(Kxlib_getDolphinsValue("cnx_err_failed"));_f_UlkTrgBtn();return}var s=$("<span/>");_f_Srv_TryCnx(lv,pv,s);$(s).on("datasready",function(e,d){if(KgbLib_CheckNullity(d))return;if(d.r==="_AUTH_SUKX"||d.r==="_AUTH_TD"||d.r==="_AUTH_TD_PMLY")if(d.r==="_AUTH_TD")_f_ToDelCaution(true,d.utb.fn);else if(d.r==="_AUTH_TD_PMLY")_f_ShwHdrErr(Kxlib_getDolphinsValue("cnx_err_tdl_permatly"));else{var rdr_u=d.hasOwnProperty("rdr_afr")&&d.rdr_afr&&d.rdr_afr.case==="_REDIR_AFTER_LGI"&&
!KgbLib_CheckNullity(d.rdr_afr.url)?d.rdr_afr.url:"/".concat(d.utb.psd);window.location.href=rdr_u;return}else{var em;switch(d.r){case "_AUTH_WRG":em=Kxlib_getDolphinsValue("cnx_err_failed");break;case "_AUTH_U_G":em=Kxlib_getDolphinsValue("cnx_err_failed_ug");break;case "_AUTH_LGTYP":em=Kxlib_getDolphinsValue("cnx_err_failed_lg");break;case "_AUTH_FAILED":em=Kxlib_getDolphinsValue("cnx_err_failed");if(d.et.xd===1)em+="<br/><br/>"+Kxlib_getDolphinsValue("cnx_err_failed_ct1");break;case "_AUTH_SSM":var t=
d.et.xd;var m=6E4;var s=1E3;var M=Math.floor(t/m);var R=Math.floor(t%m);var S=Math.floor(R/s);var rmt=R===0?"<b>"+M+" minutes</b>":"<b>"+M+" : "+S+" secs </b>";em=Kxlib_getDolphinsValue("cnx_err_failed_n_lock");em+="<br/><br/>"+Kxlib_getDolphinsValue("cnx_err_failed_n_lock_mr");em=Kxlib_DolphinsReplaceDmd(em,"time",rmt);break;default:Kxlib_AJAX_HandleFailed();break}_f_ShwFldErr(ls);_f_ShwFldErr(ps);_f_ShwHdrErr(em)}_f_HidSpinner();_f_UlkTrgBtn();_xhr_cnx=null})}catch(ex){Kxlib_DebugVars([ex,ex.fileName,
ex.lineNumber],true)}};var _f_UlkTrgBtn=function(){if(!$(".jb-cnx-submit").length)return;$(".jb-cnx-submit").data("il",0)};var _f_IsEmailLike=function(m){if(KgbLib_CheckNullity(m))return;var l=(m.match(/@/g)||[]).length;return l===1?true:false};var _f_IsValidEmail=function(m){if(KgbLib_CheckNullity(m))return;rgx=_f_Gdf().rgx_eml;return rgx.test(m)?true:false};var _f_IsValidPsd=function(m){if(KgbLib_CheckNullity(m))return;rgx=_f_Gdf().rgx_psd;return rgx.test(m)?true:false};var _f_IsValidPwd=function(m){if(KgbLib_CheckNullity(m))return;
rgx=_f_Gdf().rgx_pwd;return rgx.test(m)?true:false};var _f_ToDelAct=function(x){if(KgbLib_CheckNullity(x))return;var a=$(x).data("action");switch(a){case "cancel":_f_ToDel_Kpit();break;case "wlcmback":_f_ToDel_StopNCo();break;case "close":break}};var _f_ToDel_StopNCo=function(){_f_ShwTdlWait();var s=$("<span/>");_f_Srv_ToDelAction("git",s);$(s).on("operended",function(e,d){if(KgbLib_CheckNullity(d))return;if(d.r==="DFNTLY_TD"){_f_HidTdlWait();_f_ShwHdrErr(Kxlib_getDolphinsValue("cnx_err_tdl_permatly"));
return}else if(d.r===false){_f_HidTdlWait();Kxlib_AJAX_HandleFailed();return}$(".jb-cnx-tdl-w-m").text(Kxlib_getDolphinsValue("COMLG_Redir"));setTimeout(function(){var hr="/@"+d.h;window.location.href=hr},2E3)})};var _f_ToDel_Kpit=function(){_f_ShwTdlWait();var s=$("<span/>");_f_Srv_ToDelAction("kpit",s);$(s).on("operended",function(e,d){if(KgbLib_CheckNullity(d))return;setTimeout(function(){_f_HidTdlWait();Kxlib_ResetForm("cnx_form")},1E3)})};var _Ax_TryCnx=Kxlib_GetAjaxRules("CNX_TRYCNX");var _f_Srv_TryCnx=
function(l,p,s){if(KgbLib_CheckNullity(l)|KgbLib_CheckNullity(p)|KgbLib_CheckNullity(s))return;var onsuccess=function(d){try{if(!KgbLib_CheckNullity(d))d=JSON.parse(d);else return;if(!KgbLib_CheckNullity(d.err)){if(Kxlib_AjaxIsErrVolatile(d.err))switch(d.err){case "__ERR_VOL_CNX_XSTS":location.reload();break;case "__ERR_VOL_DENY":case "__ERR_VOL_DNY_AKX":case "__ERR_VOL_DENY_AKX":Kxlib_AJAX_HandleDeny();break;case "__ERR_VOL_FAILED":Kxlib_AJAX_HandleFailed();break;case "__ERR_VOL_DATAS_MISG":Kxlib_AJAX_HandleFailed("ERR_COM_AJAX_FAIL_TECH");
break;case "__ERR_VOL_WRG_DATAS":break;case "__ERR_VOL_WRG_HACK":break;default:Kxlib_AJAX_HandleFailed();break}_f_HidSpinner();_f_UlkTrgBtn();_xhr_cnx=null;return}else if(!KgbLib_CheckNullity(d.return)){rds=[d.return];$(s).trigger("datasready",rds)}else{_f_HidSpinner();_f_UlkTrgBtn();return}}catch(ex){Kxlib_AJAX_HandleFailed("ERR_COM_AJAX_FAIL_TECH");_f_HidSpinner();_f_UlkTrgBtn();_xhr_cnx=null;return}};var onerror=function(a,b,c){Kxlib_AjaxGblOnErr(a,b);_f_HidSpinner();_f_UlkTrgBtn();_xhr_cnx=null;
Kxlib_AJAX_HandleFailed("ERR_COM_AJAX_FAIL_TECH");return};var curl=document.URL;var toSend={"urqid":_Ax_TryCnx.urqid,"datas":{"lv":l,"pv":p,"cl":curl}};_xhr_cnx=Kx_XHR_Send(toSend,null,null,onsuccess,onerror,{type:"post",url:_Ax_TryCnx.url,wcrdtl:_Ax_TryCnx.wcrdtl})};var _Ax_ToDelAction=Kxlib_GetAjaxRules("CNX_TDLACT");var _f_Srv_ToDelAction=function(scp,s){if(KgbLib_CheckNullity(scp)|KgbLib_CheckNullity(s))return;var onsuccess=function(d){try{if(!KgbLib_CheckNullity(d))d=JSON.parse(d);else return;
if(!KgbLib_CheckNullity(d.err)){_f_HidTdlWait();if(Kxlib_AjaxIsErrVolatile(d.err))switch(d.err){case "__ERR_VOL_DENY":case "__ERR_VOL_DENY_AKX":Kxlib_AJAX_HandleDeny();return;break;case "__ERR_VOL_FAILED":Kxlib_AJAX_HandleFailed();return;break;case "__ERR_VOL_DATAS_MISG":Kxlib_AJAX_HandleFailed("ERR_COM_AJAX_FAIL_TECH");return;break;case "__ERR_VOL_WRG_DATAS":return;case "__ERR_VOL_WRG_HACK":return;break;case "__ERR_VOL_FATAL_UXPTD":Kxlib_AJAX_HandleFailed("ERR_COM_AJAX_FAIL_TECH");break;default:Kxlib_AJAX_HandleFailed();
return;break}return}else if(!KgbLib_CheckNullity(d.return)){rds=[d.return];$(s).trigger("operended",rds)}else return}catch(ex){Kxlib_AJAX_HandleFailed("ERR_COM_AJAX_FAIL_TECH");return}};var onerror=function(a,b,c){Kxlib_AjaxGblOnErr(a,b);Kxlib_AJAX_HandleFailed("ERR_COM_AJAX_FAIL_TECH");return};var curl=document.URL;var toSend={"urqid":_Ax_ToDelAction.urqid,"datas":{"scp":scp,"cl":curl}};Kx_XHR_Send(toSend,null,null,onsuccess,onerror,{type:"post",url:_Ax_ToDelAction.url,wcrdtl:_Ax_ToDelAction.wcrdtl})};
var _f_ShwSpinner=function(){$(".jb-cnx-spnr").removeClass("this_hide")};var _f_HidSpinner=function(){$(".jb-cnx-spnr").addClass("this_hide")};var _f_ShwHdrErr=function(m){if(KgbLib_CheckNullity(m))return;$(".jb-cn-hdr-mx").removeClass("std").addClass("onerror");$(".jb-cnx-h-txt").html(m)};var _f_HidHdrErr=function(){var m=Kxlib_getDolphinsValue("cnx_err_hdr_default");$(".jb-cn-hdr-mx").removeClass("onerror").addClass("std");$(".jb-cnx-h-txt").html(m)};var _f_ShwFldErr=function(x){if(KgbLib_CheckNullity(x)|
!$(x).length)return;$(x).addClass("error_field")};var _f_HidFldErr=function(x){if(KgbLib_CheckNullity(x)|!$(x).length)return;$(x).removeClass("error_field")};var _f_ToDelCaution=function(o,nc){try{if(o|!$(".jb-cnx-tdl-bdy-mx").length&&!KgbLib_CheckNullity(nc)){var m=Kxlib_getDolphinsValue("cnx_err_tdl_caution");m=Kxlib_DolphinsReplaceDmd(m,"nom_complet",nc);var e='<div id="cnx-tdl-bdy-mx" class="jb-cnx-tdl-bdy-mx">';e+="<div>";e+='<div id="cnx-tdl-top">';e+='<p id="cnx-tdl-msg">';e+=m;e+="</p>";e+=
"</div>";e+='<div id="cnx-tdl-btm" class="clearfix2">';e+='<div id="cnx-tdl-chcs-mx">';e+='<a class="cnx-tdl-chcs cnx-tdl-chcs-ccl" data-action="cancel" href="">Annuler</a>';e+='<a class="cnx-tdl-chcs cnx-tdl-chcs-git" data-action="wlcmback" href="">Se connecter</a>';e+="</div>";e+='<div id="cnx-tdl-chcs-mr-mx">';e+='<a id="cnx-tdl-chcs-mr" href="">Plus d\'informations</a>';e+="</div>";e+="</div>";e+="</div>";e+="</div>";e=$.parseHTML(e);e=_f_ToDelC_Bind(e);$(e).appendTo(".jb-cnx-tdl-sprt");$(".jb-cnx-tdl-sprt").removeClass("this_hide")}else{$(".jb-cnx-tdl-sprt").addClass("this_hide");
if($(".jb-cnx-tdl-bdy-mx").length)$(".jb-cnx-tdl-bdy-mx").remove()}}catch(ex){Kxlib_DebugVars([ex,ex.fileName,ex.lineNumber],true)}};var _f_ToDelC_Bind=function(b){if(KgbLib_CheckNullity(b))return;$(b).find(".cnx-tdl-chcs").click(function(e){Kxlib_PreventDefault(e);_f_ToDelAct(this)});return b};var _f_ShwTdlWait=function(){try{var e='<div id="cnx-tdl-wait" class="jb-cnx-tdl-wait">';e+='<span class="jb-cnx-tdl-w-m">';e+=Kxlib_getDolphinsValue("COMLG_Wait");e+="</span>";e+="<span>...</span>";e+="</div>";
$(".jb-cnx-tdl-bdy-mx").addClass("this_hide");$(e).hide().prependTo(".jb-cnx-tdl-sprt").fadeIn("300")}catch(ex){Kxlib_DebugVars([ex,ex.fileName,ex.lineNumber],true)}};var _f_HidTdlWait=function(){if($(".jb-cnx-tdl-wait").length){$(".jb-cnx-tdl-sprt").addClass("this_hide");$(".jb-cnx-tdl-wait").remove()}};$(".jb-cnx-form-mx").submit(function(e){Kxlib_PreventDefault(e);_f_TryConx()});$(".jb-cnx-tdl-sprt").click(function(e){Kxlib_PreventDefault(e);var x=$("<span/>").data("action","close");_f_ToDelAct(x)});
$(".jb-cnx-tdl-sprt *").click(function(e){Kxlib_StopPropagation(e)})}new TQCNX;
